{"ast":null,"code":"var _jsxFileName = \"/Users/mustafizur/Codes/tvs/calendar-event-backend/frontend/src/components/event/ViewEvent.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport DeleteEventModal from \"./DeleteEvent\";\nimport { to24HourTime } from \"../common/common\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ViewEvent = ({\n  eventId,\n  isOpen,\n  onClose\n}) => {\n  _s();\n  const [viewMode, setViewMode] = useState(true);\n  const [isAllDay, setIsAllDay] = useState(false);\n  const [isRecurringUpdate, setIsRecurringUpdate] = useState(false);\n  const [isDeleteModalOpen, setDeleteModalOpen] = useState(false);\n  const [eventData, setEventData] = useState({\n    title: \"\",\n    description: \"\",\n    notes: \"\",\n    startDate: \"\",\n    endDate: \"\",\n    startTime: \"\",\n    isFullDay: isAllDay,\n    endTime: \"\",\n    repeat: \"none\",\n    repeatCycle: 1,\n    recurringEventId: \"\"\n  });\n  useEffect(() => {\n    // Fetch event data based on eventId\n    fetch(`http://localhost:5000/events/${eventId}`).then(response => response.json()).then(data => {\n      const formattedStartDate = data.startDate ? data.startDate.split(\"T\")[0] : \"\";\n      const formattedEndDate = data.endDate ? data.endDate.split(\"T\")[0] : \"\";\n      const formattedStartTime = data.startTime ? to24HourTime(data.startTime) : \"\";\n      const formattedEndTime = data.endTime ? to24HourTime(data.endTime) : \"\";\n\n      // Update the eventData and isAllDay state\n      setEventData({\n        ...data,\n        startDate: formattedStartDate,\n        endDate: formattedEndDate,\n        startTime: formattedStartTime,\n        endTime: formattedEndTime\n      });\n      setIsAllDay(data.isFullDay);\n    }).catch(error => console.error(\"Error fetching event:\", error));\n  }, [eventId]);\n  const handleInputChange = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    setEventData(currentEventData => {\n      const newEventData = {\n        ...currentEventData,\n        [name]: value\n      };\n      if (name === \"startTime\") {\n        const [hours, minutes] = value.split(\":\").map(Number);\n        const endTimeHour = (hours + 1) % 24; // Use % 24 to handle the case where startTime is 23:00\n        const formattedEndTime = `${endTimeHour.toString().padStart(2, \"0\")}:${minutes.toString().padStart(2, \"0\")}`;\n        return {\n          ...newEventData,\n          endTime: currentEventData.endTime === \"\" ? formattedEndTime : currentEventData.endTime\n        };\n      } else if (name === \"startDate\" || name === \"endDate\") {\n        if (newEventData.startDate && newEventData.endDate) {\n          const start = new Date(newEventData.startDate);\n          const end = new Date(newEventData.endDate);\n          if (start > end) {\n            return {\n              ...newEventData,\n              startDate: name === \"endDate\" ? newEventData.endDate : newEventData.startDate,\n              endDate: name === \"startDate\" ? newEventData.startDate : newEventData.endDate\n            };\n          }\n        }\n      }\n      return newEventData;\n    });\n  };\n  const handleSubmit = async event => {\n    event.preventDefault();\n    // Add validation logic here if needed\n\n    event.preventDefault();\n    if (eventData.startDate === null || eventData.startDate === \"\") {\n      alert(\"Please enter a start date\");\n      return;\n    }\n    if (eventData.endDate === null || eventData.endDate === \"\") {\n      eventData.endDate = eventData.startDate;\n    }\n    const timeFormat = /^([01]\\d|2[0-3]):([0-5]\\d)$/;\n    if (!isAllDay && (!timeFormat.test(eventData.startTime) || !timeFormat.test(eventData.endTime))) {\n      alert(\"Please enter time in HH:MM format.\");\n      return;\n    }\n    if (eventData.repeatCycle < 1) {\n      eventData.repeatCycle = 1;\n      alert(\"repeatCycle can't be less then 1\");\n    }\n    const [startHours, startMinutes] = eventData.startTime.split(\":\").map(Number);\n    const [endHours, endMinutes] = eventData.endTime.split(\":\").map(Number);\n    if (endHours < startHours || endHours === startHours && endMinutes < startMinutes) {\n      alert(\"End time cannot be before start time.\");\n      return;\n    }\n    if (isRecurringUpdate) {\n      const originalData = await fetch(`http://localhost:5000/events/${eventId}`).then(response => response.json());\n\n      // Check if any restricted fields have been modified\n      if (eventData.startDate !== originalData.startDate || eventData.endDate !== originalData.endDate || eventData.repeat !== originalData.repeat || eventData.repeatCycle !== originalData.repeatCycle || eventData.recurringEventId !== originalData.recurringEventId) {\n        alert(\"You can only update title, description, notes, time, and isFullDay for recurring events.\");\n        return;\n      }\n    }\n    try {\n      if (!isRecurringUpdate) {\n        const response = await fetch(`http://localhost:5000/events/${eventId}`, {\n          method: \"PUT\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify(eventData)\n        });\n        window.location.reload();\n        if (!response.ok) {\n          const errorData = await response.json();\n          console.error(\"Error in response:\", errorData);\n          throw new Error(\"Failed to create event\");\n        }\n      } else {\n        const response = await fetch(`http://localhost:5000/events/recurring/${eventData.recurringEventId}`, {\n          method: \"PUT\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify(eventData)\n        });\n        if (!response.ok) {\n          const errorData = await response.json();\n          console.error(\"Error in response:\", errorData);\n          throw new Error(\"Failed to update recurring event\");\n        }\n        window.location.reload();\n      }\n      onClose(); // Close the modal\n    } catch (error) {\n      console.error(\"Error in creating/updating event:\", error);\n    }\n  };\n  if (!isOpen) return null;\n  const handleDelete = () => {\n    setDeleteModalOpen(true);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-gray-600 bg-opacity-50 z-50 flex justify-center items-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 md:p-6 rounded-lg shadow-xl w-full max-w-2xl\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg md:text-xl font-bold mb-4\",\n          children: \"Event Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"grid grid-cols-1 gap-4 max-h-[70vh] overflow-y-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"title\",\n            placeholder: \"Add title\",\n            required: true,\n            value: eventData.title,\n            disabled: viewMode,\n            className: \"px-4 py-2 border rounded\",\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"description\",\n            placeholder: \"Description\",\n            value: eventData.description,\n            disabled: viewMode,\n            className: \"px-4 py-2 border rounded\",\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"notes\",\n            placeholder: \"Note\",\n            value: eventData.notes,\n            disabled: viewMode,\n            className: \"px-4 py-2 border rounded\",\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-700\",\n                  children: \"Start Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"date\",\n                  name: \"startDate\",\n                  value: eventData.startDate,\n                  disabled: viewMode,\n                  className: \"mt-1 px-4 py-2 border rounded w-full\",\n                  onChange: handleInputChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-700\",\n                  children: \"End Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"date\",\n                  name: \"endDate\",\n                  value: eventData.endDate,\n                  disabled: viewMode,\n                  className: \"mt-1 px-4 py-2 border rounded w-full\",\n                  onChange: handleInputChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: isAllDay,\n              disabled: viewMode,\n              onChange: e => {\n                setIsAllDay(e.target.checked);\n                setEventData({\n                  ...eventData,\n                  isFullDay: e.target.checked\n                });\n              },\n              className: \"rounded \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"All day\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this), !isAllDay && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-700\",\n                  children: \"Start Time\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"time\",\n                  name: \"startTime\",\n                  value: eventData.startTime,\n                  disabled: viewMode,\n                  className: \"px-4 py-2 border rounded w-full\",\n                  onChange: handleInputChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-700\",\n                  children: \"End Time\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"time\",\n                  name: \"endTime\",\n                  value: eventData.endTime,\n                  disabled: viewMode,\n                  className: \"px-4 py-2 border rounded w-full\",\n                  onChange: handleInputChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 322,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-700\",\n                children: \"Repeat\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"repeat\",\n                className: \"px-4 py-2 border rounded w-full\",\n                value: eventData.repeat,\n                disabled: viewMode,\n                onChange: handleInputChange,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"none\",\n                  children: \"Does not repeat\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 344,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"daily\",\n                  children: \"Daily\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 345,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"weekly\",\n                  children: \"Weekly\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 346,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"monthly\",\n                  children: \"Monthly\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 347,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"yearly\",\n                  children: \"Yearly\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 13\n          }, this), eventData.repeat !== \"none\" && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-700\",\n                children: \"Repeat Cycle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                name: \"repeatCycle\",\n                className: \"px-4 py-2 border rounded w-full\",\n                value: eventData.repeatCycle,\n                disabled: viewMode,\n                onChange: handleInputChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 15\n          }, this), (eventData === null || eventData === void 0 ? void 0 : eventData.recurringEventId) && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              disabled: viewMode,\n              onChange: e => setIsRecurringUpdate(e.target.checked),\n              className: \"rounded \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Update All Recurring Events\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => {\n              setViewMode(false);\n            },\n            disabled: !viewMode,\n            className: `${viewMode ? \"cursor-pointer\" : \"cursor-not-allowed opacity-50\"} bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded`,\n            children: \"Edit Event\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: viewMode,\n            className: `${!viewMode ? \"cursor-pointer\" : \"cursor-not-allowed opacity-50\"}\" bg-sky-500 hover:bg-sky-700 text-white font-bold py-2 px-4 rounded`,\n            children: \"Update Event\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: handleDelete,\n            className: \"bg-red-700 hover:bg-red-900 text-white font-bold py-2 px-4 rounded\",\n            children: \"Delete Event\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\" // Add this to prevent the default submit behavior\n            ,\n            onClick: onClose,\n            className: \"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded\",\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }, this), isDeleteModalOpen && /*#__PURE__*/_jsxDEV(DeleteEventModal, {\n      eventId: eventId,\n      isOpen: isDeleteModalOpen,\n      onDeleteClose: () => setDeleteModalOpen(false),\n      isRecurring: !!eventData.recurringEventId // Assuming you have a way to determine if the event is recurring\n      ,\n      recurringEventId: eventData.recurringEventId // Assuming this is the ID for recurring events\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 424,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(ViewEvent, \"U6vW8yF+cZju8szlc94/E/UBeUc=\");\n_c = ViewEvent;\nexport default ViewEvent;\nvar _c;\n$RefreshReg$(_c, \"ViewEvent\");","map":{"version":3,"names":["React","useEffect","useState","DeleteEventModal","to24HourTime","jsxDEV","_jsxDEV","Fragment","_Fragment","ViewEvent","eventId","isOpen","onClose","_s","viewMode","setViewMode","isAllDay","setIsAllDay","isRecurringUpdate","setIsRecurringUpdate","isDeleteModalOpen","setDeleteModalOpen","eventData","setEventData","title","description","notes","startDate","endDate","startTime","isFullDay","endTime","repeat","repeatCycle","recurringEventId","fetch","then","response","json","data","formattedStartDate","split","formattedEndDate","formattedStartTime","formattedEndTime","catch","error","console","handleInputChange","event","name","value","target","currentEventData","newEventData","hours","minutes","map","Number","endTimeHour","toString","padStart","start","Date","end","handleSubmit","preventDefault","alert","timeFormat","test","startHours","startMinutes","endHours","endMinutes","originalData","method","headers","body","JSON","stringify","window","location","reload","ok","errorData","Error","handleDelete","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","required","disabled","onChange","checked","e","onClick","onDeleteClose","isRecurring","_c","$RefreshReg$"],"sources":["/Users/mustafizur/Codes/tvs/calendar-event-backend/frontend/src/components/event/ViewEvent.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport DeleteEventModal from \"./DeleteEvent\";\nimport { to24HourTime } from \"../common/common\";\n\ninterface ViewEventModalProps {\n  eventId: string;\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nconst ViewEvent: React.FC<ViewEventModalProps> = ({\n  eventId,\n  isOpen,\n  onClose,\n}) => {\n  const [viewMode, setViewMode] = useState(true);\n  const [isAllDay, setIsAllDay] = useState(false);\n  const [isRecurringUpdate, setIsRecurringUpdate] = useState(false);\n  const [isDeleteModalOpen, setDeleteModalOpen] = useState(false);\n\n  const [eventData, setEventData] = useState({\n    title: \"\",\n    description: \"\",\n    notes: \"\",\n    startDate: \"\",\n    endDate: \"\",\n    startTime: \"\",\n    isFullDay: isAllDay,\n    endTime: \"\",\n    repeat: \"none\",\n    repeatCycle: 1,\n    recurringEventId: \"\",\n  });\n\n  useEffect(() => {\n    // Fetch event data based on eventId\n    fetch(`http://localhost:5000/events/${eventId}`)\n      .then((response) => response.json())\n      .then((data) => {\n        const formattedStartDate = data.startDate\n          ? data.startDate.split(\"T\")[0]\n          : \"\";\n        const formattedEndDate = data.endDate ? data.endDate.split(\"T\")[0] : \"\";\n        const formattedStartTime = data.startTime\n          ? to24HourTime(data.startTime)\n          : \"\";\n        const formattedEndTime = data.endTime ? to24HourTime(data.endTime) : \"\";\n\n        // Update the eventData and isAllDay state\n        setEventData({\n          ...data,\n          startDate: formattedStartDate,\n          endDate: formattedEndDate,\n          startTime: formattedStartTime,\n          endTime: formattedEndTime,\n        });\n\n        setIsAllDay(data.isFullDay);\n      })\n      .catch((error) => console.error(\"Error fetching event:\", error));\n  }, [eventId]);\n\n  const handleInputChange = (\n    event: React.ChangeEvent<\n      HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement\n    >\n  ) => {\n    const { name, value } = event.target;\n\n    setEventData((currentEventData) => {\n      const newEventData = { ...currentEventData, [name]: value };\n\n      if (name === \"startTime\") {\n        const [hours, minutes] = value.split(\":\").map(Number);\n        const endTimeHour = (hours + 1) % 24; // Use % 24 to handle the case where startTime is 23:00\n        const formattedEndTime = `${endTimeHour\n          .toString()\n          .padStart(2, \"0\")}:${minutes.toString().padStart(2, \"0\")}`;\n\n        return {\n          ...newEventData,\n          endTime:\n            currentEventData.endTime === \"\"\n              ? formattedEndTime\n              : currentEventData.endTime,\n        };\n      } else if (name === \"startDate\" || name === \"endDate\") {\n        if (newEventData.startDate && newEventData.endDate) {\n          const start = new Date(newEventData.startDate);\n          const end = new Date(newEventData.endDate);\n\n          if (start > end) {\n            return {\n              ...newEventData,\n              startDate:\n                name === \"endDate\"\n                  ? newEventData.endDate\n                  : newEventData.startDate,\n              endDate:\n                name === \"startDate\"\n                  ? newEventData.startDate\n                  : newEventData.endDate,\n            };\n          }\n        }\n      }\n\n      return newEventData;\n    });\n  };\n\n  const handleSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    // Add validation logic here if needed\n\n    event.preventDefault();\n\n    if (eventData.startDate === null || eventData.startDate === \"\") {\n      alert(\"Please enter a start date\");\n      return;\n    }\n\n    if (eventData.endDate === null || eventData.endDate === \"\") {\n      eventData.endDate = eventData.startDate;\n    }\n    const timeFormat = /^([01]\\d|2[0-3]):([0-5]\\d)$/;\n    if (\n      !isAllDay &&\n      (!timeFormat.test(eventData.startTime) ||\n        !timeFormat.test(eventData.endTime))\n    ) {\n      alert(\"Please enter time in HH:MM format.\");\n      return;\n    }\n\n    if (eventData.repeatCycle < 1) {\n      eventData.repeatCycle = 1;\n      alert(\"repeatCycle can't be less then 1\");\n    }\n\n    const [startHours, startMinutes] = eventData.startTime\n      .split(\":\")\n      .map(Number);\n    const [endHours, endMinutes] = eventData.endTime.split(\":\").map(Number);\n\n    if (\n      endHours < startHours ||\n      (endHours === startHours && endMinutes < startMinutes)\n    ) {\n      alert(\"End time cannot be before start time.\");\n      return;\n    }\n\n    if (isRecurringUpdate) {\n      const originalData = await fetch(\n        `http://localhost:5000/events/${eventId}`\n      ).then((response) => response.json());\n\n      // Check if any restricted fields have been modified\n      if (\n        eventData.startDate !== originalData.startDate ||\n        eventData.endDate !== originalData.endDate ||\n        eventData.repeat !== originalData.repeat ||\n        eventData.repeatCycle !== originalData.repeatCycle ||\n        eventData.recurringEventId !== originalData.recurringEventId\n      ) {\n        alert(\n          \"You can only update title, description, notes, time, and isFullDay for recurring events.\"\n        );\n        return;\n      }\n    }\n\n    try {\n      if (!isRecurringUpdate) {\n        const response = await fetch(\n          `http://localhost:5000/events/${eventId}`,\n          {\n            method: \"PUT\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify(eventData),\n          }\n        );\n\n        window.location.reload();\n        if (!response.ok) {\n          const errorData = await response.json();\n          console.error(\"Error in response:\", errorData);\n          throw new Error(\"Failed to create event\");\n        }\n      } else {\n        const response = await fetch(\n          `http://localhost:5000/events/recurring/${eventData.recurringEventId}`,\n          {\n            method: \"PUT\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify(eventData),\n          }\n        );\n\n        if (!response.ok) {\n          const errorData = await response.json();\n          console.error(\"Error in response:\", errorData);\n          throw new Error(\"Failed to update recurring event\");\n        }\n\n        window.location.reload();\n      }\n\n      onClose(); // Close the modal\n    } catch (error) {\n      console.error(\"Error in creating/updating event:\", error);\n    }\n  };\n\n  if (!isOpen) return null;\n\n  const handleDelete = () => {\n    setDeleteModalOpen(true);\n  };\n\n  return (\n    <>\n      <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 z-50 flex justify-center items-center\">\n        <div className=\"bg-white p-4 md:p-6 rounded-lg shadow-xl w-full max-w-2xl\">\n          <h2 className=\"text-lg md:text-xl font-bold mb-4\">Event Details</h2>\n\n          <form\n            onSubmit={handleSubmit}\n            className=\"grid grid-cols-1 gap-4 max-h-[70vh] overflow-y-auto\"\n          >\n            <input\n              type=\"text\"\n              name=\"title\"\n              placeholder=\"Add title\"\n              required\n              value={eventData.title}\n              disabled={viewMode}\n              className=\"px-4 py-2 border rounded\"\n              onChange={handleInputChange}\n            />\n            <textarea\n              name=\"description\"\n              placeholder=\"Description\"\n              value={eventData.description}\n              disabled={viewMode}\n              className=\"px-4 py-2 border rounded\"\n              onChange={handleInputChange}\n            />\n            <textarea\n              name=\"notes\"\n              placeholder=\"Note\"\n              value={eventData.notes}\n              disabled={viewMode}\n              className=\"px-4 py-2 border rounded\"\n              onChange={handleInputChange}\n            />\n            <div className=\"flex justify-between gap-4\">\n              <div className=\"w-full\">\n                <label className=\"block\">\n                  <span className=\"text-gray-700\">Start Date</span>\n                  <input\n                    type=\"date\"\n                    name=\"startDate\"\n                    value={eventData.startDate}\n                    disabled={viewMode}\n                    className=\"mt-1 px-4 py-2 border rounded w-full\"\n                    onChange={handleInputChange}\n                  />\n                </label>\n              </div>\n              <div className=\"w-full\">\n                <label className=\"block\">\n                  <span className=\"text-gray-700\">End Date</span>\n                  <input\n                    type=\"date\"\n                    name=\"endDate\"\n                    value={eventData.endDate}\n                    disabled={viewMode}\n                    className=\"mt-1 px-4 py-2 border rounded w-full\"\n                    onChange={handleInputChange}\n                  />\n                </label>\n              </div>\n            </div>\n\n            <div className=\"flex items-center gap-2\">\n              <input\n                type=\"checkbox\"\n                checked={isAllDay}\n                disabled={viewMode}\n                onChange={(e) => {\n                  setIsAllDay(e.target.checked);\n                  setEventData({ ...eventData, isFullDay: e.target.checked });\n                }}\n                className=\"rounded \"\n              />\n              <span>All day</span>\n            </div>\n            {!isAllDay && (\n              <div className=\"flex justify-between gap-4\">\n                <div className=\"w-full\">\n                  <label className=\"block\">\n                    <span className=\"text-gray-700\">Start Time</span>\n                    <input\n                      type=\"time\"\n                      name=\"startTime\"\n                      value={eventData.startTime}\n                      disabled={viewMode}\n                      className=\"px-4 py-2 border rounded w-full\"\n                      onChange={handleInputChange}\n                    />\n                  </label>\n                </div>\n                <div className=\"w-full\">\n                  <label className=\"block\">\n                    <span className=\"text-gray-700\">End Time</span>\n                    <input\n                      type=\"time\"\n                      name=\"endTime\"\n                      value={eventData.endTime}\n                      disabled={viewMode}\n                      className=\"px-4 py-2 border rounded w-full\"\n                      onChange={handleInputChange}\n                    />\n                  </label>\n                </div>\n              </div>\n            )}\n            <div className=\"w-full\">\n              <label className=\"block\">\n                <span className=\"text-gray-700\">Repeat</span>\n                <select\n                  name=\"repeat\"\n                  className=\"px-4 py-2 border rounded w-full\"\n                  value={eventData.repeat}\n                  disabled={viewMode}\n                  onChange={handleInputChange}\n                >\n                  <option value=\"none\">Does not repeat</option>\n                  <option value=\"daily\">Daily</option>\n                  <option value=\"weekly\">Weekly</option>\n                  <option value=\"monthly\">Monthly</option>\n                  <option value=\"yearly\">Yearly</option>\n                </select>\n              </label>\n            </div>\n\n            {eventData.repeat !== \"none\" && (\n              <div className=\"w-full\">\n                <label className=\"block\">\n                  <span className=\"text-gray-700\">Repeat Cycle</span>\n                  <input\n                    type=\"number\"\n                    name=\"repeatCycle\"\n                    className=\"px-4 py-2 border rounded w-full\"\n                    value={eventData.repeatCycle}\n                    disabled={viewMode}\n                    onChange={handleInputChange}\n                  ></input>\n                </label>\n              </div>\n            )}\n\n            {eventData?.recurringEventId && (\n              <div className=\"flex items-center gap-2\">\n                <input\n                  type=\"checkbox\"\n                  disabled={viewMode}\n                  onChange={(e) => setIsRecurringUpdate(e.target.checked)}\n                  className=\"rounded \"\n                />\n                <span>Update All Recurring Events</span>\n              </div>\n            )}\n\n            <button\n              type=\"button\"\n              onClick={() => {\n                setViewMode(false);\n              }}\n              disabled={!viewMode}\n              className={`${\n                viewMode ? \"cursor-pointer\" : \"cursor-not-allowed opacity-50\"\n              } bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded`}\n            >\n              Edit Event\n            </button>\n\n            <button\n              type=\"submit\"\n              disabled={viewMode}\n              className={`${\n                !viewMode ? \"cursor-pointer\" : \"cursor-not-allowed opacity-50\"\n              }\" bg-sky-500 hover:bg-sky-700 text-white font-bold py-2 px-4 rounded`}\n            >\n              Update Event\n            </button>\n\n            <button\n              type=\"button\"\n              onClick={handleDelete}\n              className=\"bg-red-700 hover:bg-red-900 text-white font-bold py-2 px-4 rounded\"\n            >\n              Delete Event\n            </button>\n\n            <button\n              type=\"button\" // Add this to prevent the default submit behavior\n              onClick={onClose}\n              className=\"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded\"\n            >\n              Close\n            </button>\n          </form>\n        </div>\n      </div>\n\n      {isDeleteModalOpen && (\n        <DeleteEventModal\n          eventId={eventId}\n          isOpen={isDeleteModalOpen}\n          onDeleteClose={() => setDeleteModalOpen(false)}\n          isRecurring={!!eventData.recurringEventId} // Assuming you have a way to determine if the event is recurring\n          recurringEventId={eventData.recurringEventId} // Assuming this is the ID for recurring events\n        />\n      )}\n    </>\n  );\n};\nexport default ViewEvent;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}